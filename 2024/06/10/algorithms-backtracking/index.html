<!DOCTYPE html>
<html lang="en">
    
    <style>
        body
        {
            font-family: "Times New Roman", Helvetica, Tahoma, Arial,   LXGW WenKai   "notoserifsc-medium", "Microsoft YaHei", "Hiragino Sans GB", "WenQuanYi Micro Hei", sans-serif !important;

        }
    </style>

    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="å›æº¯ - Backtracking" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Jay1anğŸˆ</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Jay1anğŸˆ</a> 
            <span class="description">I am who I am.</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">â›©ï¸é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">ğŸ—’ï¸æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">ğŸ·ï¸åˆ†ç±»</a></li>
            
        
            
                <li><a href="/about/">ğŸ¨å…³äº</a></li>
            
        
            
                <li><a href="/now/">ğŸ¡Now</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    å›æº¯ - Backtracking
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2024-07-26</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š3.7k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š17åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-%E5%9B%9E%E6%BA%AF"><span class="post-toc-text">åŸºç¡€ç®—æ³• - å›æº¯</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%9B%B8%E5%85%B3%E9%A2%98%E7%9B%AE"><span class="post-toc-text">ç›¸å…³é¢˜ç›®</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#46-%E5%85%A8%E6%8E%92%E5%88%97-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">46. å…¨æ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#47-%E5%85%A8%E6%8E%92%E5%88%97-II-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">47. å…¨æ’åˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#78-%E5%AD%90%E9%9B%86-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="post-toc-text">åŠ¨æ€è§„åˆ’</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%9B%9E%E6%BA%AF"><span class="post-toc-text">å›æº¯</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#17-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#39-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">39. ç»„åˆæ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#22-%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">22. æ‹¬å·ç”Ÿæˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#79-%E5%8D%95%E8%AF%8D%E6%90%9C%E7%B4%A2-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">79. å•è¯æœç´¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#131-%E5%88%86%E5%89%B2%E5%9B%9E%E6%96%87%E4%B8%B2-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">131. åˆ†å‰²å›æ–‡ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#51-N-%E7%9A%87%E5%90%8E-%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89"><span class="post-toc-text">51. N çš‡å - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></a></li></ol></li></ol></li></ol>
            
        
        <div class=".article-gallery"><h1 id="åŸºç¡€ç®—æ³•-å›æº¯"><a href="#åŸºç¡€ç®—æ³•-å›æº¯" class="headerlink" title="åŸºç¡€ç®—æ³• - å›æº¯"></a>åŸºç¡€ç®—æ³• - å›æº¯</h1><p>å›æº¯ï¼ˆBacktrackingï¼‰ä½œä¸ºä¸€ç§é‡è¦çš„ç®—æ³•è®¾è®¡æŠ€æœ¯ï¼Œåœ¨è§£å†³ç»„åˆé—®é¢˜ã€æ’åˆ—é—®é¢˜ä»¥åŠæœç´¢é—®é¢˜ä¸­å¹¿æ³›åº”ç”¨ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡è¯•æ¢å’Œæ’¤é”€çš„æ–¹å¼ï¼Œåœ¨æœç´¢è¿‡ç¨‹ä¸­æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å›æº¯ç®—æ³•çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é€’å½’</strong>ï¼šå›æº¯ç®—æ³•é€šå¸¸é‡‡ç”¨é€’å½’æ–¹å¼å®ç°ï¼Œé€šè¿‡é€’å½’å‡½æ•°è¿›è¡Œé—®é¢˜çš„æ±‚è§£ã€‚</li>
<li><strong>è¯•æ¢</strong>ï¼šåœ¨æ¯ä¸€æ­¥ä¸­ï¼Œå°è¯•ä¸åŒçš„é€‰æ‹©ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥é€’å½’ã€‚</li>
<li><strong>æ’¤é”€</strong>ï¼šå½“å½“å‰é€‰æ‹©ä¸æ»¡è¶³é—®é¢˜çš„è¦æ±‚æ—¶ï¼Œæ’¤é”€è¯¥é€‰æ‹©å¹¶å°è¯•å…¶ä»–å¯èƒ½çš„é€‰æ‹©ã€‚</li>
</ul>
<p>å›æº¯ç®—æ³•é€‚ç”¨äºè§£å†³é‚£äº›å…·æœ‰å¤šä¸ªæ­¥éª¤å’Œå¤šä¸ªé€‰æ‹©çš„é—®é¢˜ï¼Œä¾‹å¦‚å…¨æ’åˆ—ã€ç»„åˆã€å­é›†ã€æ•°ç‹¬ã€å…«çš‡åç­‰é—®é¢˜ã€‚å…¶æ—¶é—´å¤æ‚åº¦é€šå¸¸è¾ƒé«˜ï¼Œä½†å¯ä»¥é€šè¿‡å‰ªæç­‰ä¼˜åŒ–æ–¹æ³•æé«˜æ•ˆç‡ã€‚</p>
<p><strong>å›æº¯é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ç”»æ ‘å›¾çš„æ–¹å¼ç†æ€è·¯</strong></p>
<h2 id="ç›¸å…³é¢˜ç›®"><a href="#ç›¸å…³é¢˜ç›®" class="headerlink" title="ç›¸å…³é¢˜ç›®"></a>ç›¸å…³é¢˜ç›®</h2><h3 id="46-å…¨æ’åˆ—-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#46-å…¨æ’åˆ—-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="46. å…¨æ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/permutations/?envType=study-plan-v2&envId=top-100-liked">46. å…¨æ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// resä¸ºæœ€ç»ˆè¿”å›çš„ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// å…¨æ’åˆ—</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span> []nums)</span>&#123;</span><br><span class="line">        <span class="comment">// æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="comment">// isUsed è®°å½•å¯¹åº”çš„å…ƒç´ æ˜¯å¦è¢«ä½¿ç”¨è¿‡ çŠ¶æ€å˜é‡</span></span><br><span class="line">        <span class="comment">// åˆå§‹å€¼ä¸ºfalse</span></span><br><span class="line">        <span class="type">boolean</span>[] isUsed = <span class="keyword">new</span> <span class="title class_">boolean</span>[num];</span><br><span class="line">        <span class="comment">// è®°å½•æ¯ä¸€æ¬¡æ’åˆ—çš„ä¸´æ—¶æ•°ç»„</span></span><br><span class="line">        List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// indexè®°å½•å½“å‰ä¸´æ—¶æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        dfs(nums,num,index,isUsed,tmp);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> num, <span class="type">int</span> index, <span class="type">boolean</span>[] isUsed, List&lt;Integer&gt; tmp)</span>&#123;</span><br><span class="line">        <span class="comment">// å½“tmpæ•°ç»„ä¸­æ»¡äº†çš„æ—¶å€™ï¼Œå°±ç›´æ¥é€€å‡ºå‡½æ•°ï¼ˆå‡ºæ ˆï¼‰</span></span><br><span class="line">        <span class="keyword">if</span>(index==num)&#123;</span><br><span class="line"><span class="comment">//            res.add(tmp);  è¿™æ ·æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºè¿™æ ·æˆ‘æ·»åŠ çš„å°±æ˜¯tmpçš„å¼•ç”¨è€Œä¸æ˜¯tmpçš„æ‹·è´</span></span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;num;i++)&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœè®¿é—®çš„å½“å‰çš„è¿™ä¸ªå…ƒç´ æ²¡æœ‰è¢«ä½¿ç”¨è¿‡ï¼Œé‚£ä¹ˆå°±å°†å…¶åŠ å…¥tmpï¼Œå¹¶ä¸”è¿˜è¦æ›´æ–°çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">if</span>(!isUsed[i])&#123;</span><br><span class="line">                tmp.add(nums[i]);</span><br><span class="line">                index++;</span><br><span class="line">                isUsed[i] = <span class="literal">true</span>;</span><br><span class="line">                <span class="comment">// ç„¶åæ·±åº¦ä¼˜å…ˆæœç´¢äº†</span></span><br><span class="line">                dfs(nums,num,index,isUsed,tmp);</span><br><span class="line">                <span class="comment">// dfså‡ºæ ˆä¹‹åï¼Œå°±éœ€è¦å°†çŠ¶æ€æ›´æ–°</span></span><br><span class="line">                index --;</span><br><span class="line">                isUsed[i] = <span class="literal">false</span>;</span><br><span class="line">                tmp.remove(tmp.size()-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦æ¶‰åŠåˆ°æ ˆçš„æ·±åº¦ä¼˜å…ˆéå†ï¼Œå›æº¯æ‰€éœ€è¦çš„depthï¼ˆindexï¼‰ã€çŠ¶æ€è®°å½•ï¼ˆisUsedï¼‰â€¦</p>
<p>è¿˜è¦æ³¨æ„åˆ°javaçš„å‚æ•°å¼•ç”¨ä¼ é€’</p>
<p><a href="/../img/basic_algorithms/0bf18f9b86a2542d1f6aa8db6cc45475fce5aa329a07ca02a9357c2ead81eec1-image.png" title="image.png" class="gallery-item" style="box-shadow: none;"> <img src="/../img/basic_algorithms/0bf18f9b86a2542d1f6aa8db6cc45475fce5aa329a07ca02a9357c2ead81eec1-image.png" alt="image.png"></a></p>
<h3 id="47-å…¨æ’åˆ—-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#47-å…¨æ’åˆ—-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="47. å…¨æ’åˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/permutations-ii/">47. å…¨æ’åˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<p>ç”»æ•°å›¾ä¼šå‘ç°ï¼Œ<strong>åªè¦åœ¨æ¯ä¸€å±‚ä¿è¯é‡å¤çš„å…ƒç´ åªç”¨ä¸€æ¬¡å³å¯ã€‚</strong></p>
<p>å¯ä»¥ç”¨å“ˆå¸Œè¡¨æ¥å®ç°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permuteUnique</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span>[] state = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		dfs(res,tmp,nums,state,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; res,List&lt;Integer&gt; tmp,<span class="type">int</span>[] nums,<span class="type">int</span>[] state,<span class="type">int</span> count)</span>&#123;</span><br><span class="line">        HashSet&lt;Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();  <span class="comment">// è®°å½•åœ¨å‰ä¸€ä¸ªèŠ‚ç‚¹ä¸‹ å½“å‰å±‚å‡ºç°è¿‡å“ªäº›å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(count==nums.length)&#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(tmp));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(state[i]==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(map.contains(nums[i])) <span class="keyword">continue</span>; <span class="comment">// å‰ªæ</span></span><br><span class="line">                <span class="keyword">else</span> map.add(nums[i]);</span><br><span class="line">                state[i]=<span class="number">1</span>;</span><br><span class="line">                tmp.add(nums[i]);</span><br><span class="line">                dfs(res,tmp,nums,state,count+<span class="number">1</span>);</span><br><span class="line">                tmp.remove(count);</span><br><span class="line">                state[i]=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="78-å­é›†-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#78-å­é›†-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/subsets/solutions/7683/er-jin-zhi-wei-zhu-ge-mei-ju-dfssan-chong-si-lu-9c/?envType=study-plan-v2&envId=top-100-liked">78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<h4 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// å­é›†</span></span><br><span class="line">    <span class="comment">// æ ¹æ®å­é›†çš„ç‰¹ç‚¹ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œä¸€ç§åŠ¨æ€è§„åˆ’</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆå°†ç©ºé›†åŠ å…¥</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        <span class="comment">// numsçš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;num; i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> res.size();</span><br><span class="line">            System.out.println(size);</span><br><span class="line">            System.out.println(res);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j&lt;size; j++)&#123;</span><br><span class="line">                <span class="comment">// è·å–ä¹‹å‰çš„å­é›†ï¼Œæ–°çš„å­é›† = ä¹‹å‰çš„å­é›† + æ–°å…ƒç´ </span></span><br><span class="line">                <span class="comment">// dp[i] = dp[i-1] + new</span></span><br><span class="line">                List&lt;Integer&gt; new_t = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(res.get(j));</span><br><span class="line">                new_t.add(nums[i]);</span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(new_t));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨äº†åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œå¦‚æœå½“å‰æ•°ç»„ä¸º<code>[1,2,3]</code>ï¼Œ<code>dp[0]</code>åˆå§‹çŠ¶æ€ä¸ºç©ºé›†ï¼Œ<code>dp[1]</code>ä¸º<code>[]</code>åŠ ä¸Š<code>[1]</code>ï¼Œ</p>
<p><code>dp[2] = dp[1] + new</code>ï¼Œè€Œè¿™ä¸ªnewå°±ç­‰äºä»¥å‰çš„<code>dp[1]</code>ä¸­çš„æ‰€æœ‰å­é›†åŠ ä¸Šè¿™ä¸ªæ–°çš„<code>2</code>ã€‚</p>
<h4 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; t = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, nums);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> cur, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">// è®¿é—®åˆ°äº†æœ€åä¸€ä¸ªä½ç½®ï¼Œå°†tæ•°ç»„ä¸­çš„å…ƒç´ åŠ å…¥</span></span><br><span class="line">        <span class="keyword">if</span> (cur == nums.length) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;(t));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†å½“å‰å…ƒç´ åŠ å…¥ è¿›è¡Œéå†</span></span><br><span class="line">        t.add(nums[cur]);</span><br><span class="line">        dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">        <span class="comment">// å°†å½“å‰å…ƒç´ ç§»é™¤ è¿›è¡Œéå†</span></span><br><span class="line">        t.remove(t.size() - <span class="number">1</span>);</span><br><span class="line">        dfs(cur + <span class="number">1</span>, nums)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸º<strong>æ¯ä¸€ä¸ªå…ƒç´ å…¶å®æœ‰ä¸¤ä¸ªçŠ¶æ€ï¼Œè¢«é€‰ä¸­æˆ–è€…æœªè¢«é€‰ä¸­</strong>ï¼Œæˆ‘ä»¬ä¾æ¬¡dfså³å¯ã€‚</p>
<p><strong>å¯ä»¥æƒ³è±¡æˆä¸€ä¸ªäºŒå‰æ ‘</strong>ï¼Œæ¯ä¸€å±‚ä»£è¡¨æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå·¦å­æ ‘ä»£è¡¨é€‰ä¸­ï¼Œå³å­æ ‘ä»£è¡¨æœªé€‰ä¸­ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„å°±ä¸ºä¸€ä¸ªå­é›†ã€‚</p>
<h3 id="17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/letter-chttps://leetcode.cn/problems/letter-combinations-of-a-phone-number/">17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCombinations</span><span class="params">(String digits)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ– map</span></span><br><span class="line">        HashMap&lt;Character,String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character,String&gt;();</span><br><span class="line">        map.put(<span class="string">&#x27;2&#x27;</span>, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;3&#x27;</span>, <span class="string">&quot;def&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;4&#x27;</span>, <span class="string">&quot;ghi&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;5&#x27;</span>, <span class="string">&quot;jkl&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;6&#x27;</span>, <span class="string">&quot;mno&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;7&#x27;</span>, <span class="string">&quot;pqrs&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;8&#x27;</span>, <span class="string">&quot;tuv&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;9&#x27;</span>, <span class="string">&quot;wxyz&quot;</span>);</span><br><span class="line">        <span class="comment">// resæ˜¯è¦è¿”å›çš„ç»“æœ,åˆå§‹å€¼ä¸ºç©º</span></span><br><span class="line">        ArrayList&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(digits.equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// StringBuffer æ•°æ®ç»“æ„å¯¹äºStringçš„å¤„ç†æä¾›çš„æ¥å£æ›´åŠ å¤š</span></span><br><span class="line">        dfs(res,map,digits,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">StringBuffer</span>());</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(List&lt;String&gt; res,HashMap&lt;Character,String&gt; map,String digits, <span class="type">int</span> index, StringBuffer tmp)</span>&#123;</span><br><span class="line">        <span class="comment">// indexä»£è¡¨å½“å‰tmpä¸­æœ‰å¤šå°‘ä¸ªå­—æ¯äº†</span></span><br><span class="line">        <span class="keyword">if</span>(index == digits.length())&#123;</span><br><span class="line">            <span class="comment">// å½“å­—æ¯æ•°é‡è¶³å¤Ÿäº†çš„æ—¶å€™ï¼Œå°±éœ€è¦è®°å½•è¿™ä¸ªå­—æ¯ç»„åˆï¼Œä¹Ÿå°±æ˜¯tmp</span></span><br><span class="line">            res.add(tmp.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ¹æ®indexå–å‡ºéœ€è¦çš„digit</span></span><br><span class="line">        <span class="type">char</span> <span class="variable">digit</span> <span class="operator">=</span> digits.charAt(index);</span><br><span class="line">        <span class="comment">// ä»mapä¸­è·å¾—æ•°å­—å¯¹åº”çš„letters</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">letters</span> <span class="operator">=</span> map.get(digit);</span><br><span class="line">        <span class="comment">// è·å¾—lettersçš„é•¿åº¦ï¼Œè¿›è¡Œdfséå†</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">letterLen</span> <span class="operator">=</span> letters.length();</span><br><span class="line">        <span class="comment">// éå†è¿‡ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;letterLen;i++)&#123;</span><br><span class="line">            <span class="comment">// å°†å­—æ¯åŠ å…¥ä¸´æ—¶ç»„åˆtmp</span></span><br><span class="line">            tmp.append(letters.charAt(i));</span><br><span class="line">            <span class="comment">// ç¬¬indexä½çš„å­—æ¯å·²ç»è¢«é€‰ä¸­ï¼Œé€šè¿‡dfså¾€æ›´æ·±çš„åœ°æ–¹å¯»æ‰¾ç›®æ ‡</span></span><br><span class="line">            dfs(res,map,digits,index+<span class="number">1</span>,tmp);</span><br><span class="line">            <span class="comment">// å›æº¯ï¼Œé€€å›ä¹‹åè¦å°†ç¬¬indexä½çš„å­—ç¬¦ç»™å¼¹å‡ºï¼ˆçŠ¶æ€æ”¹å˜ï¼‰</span></span><br><span class="line">            tmp.deleteCharAt(index);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>å›æº¯çš„ç²¾é«“å°±åœ¨äº <strong>å›é€€ä¹‹åçš„çŠ¶æ€æ”¹å˜</strong></p>
<p><strong>ä¹Ÿå°±æ˜¯é€’å½’ä¹‹åéœ€è¦åšå’Œé€’å½’ä¹‹å‰ç›¸åçš„äº‹æƒ…</strong></p>
<p><a href="/../img/basic_algorithms/38567dcbb6401d88946ca974aacffb5ab27cb1ad54056f02b59016c0cc68b40f-file_1562774451350" title="ç®—æ³•è¿‡ç¨‹.png" class="gallery-item" style="box-shadow: none;"> <img src="/../img/basic_algorithms/38567dcbb6401d88946ca974aacffb5ab27cb1ad54056f02b59016c0cc68b40f-file_1562774451350" alt="ç®—æ³•è¿‡ç¨‹.png"></a></p>
<h3 id="39-ç»„åˆæ€»å’Œ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#39-ç»„åˆæ€»å’Œ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="39. ç»„åˆæ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/combination-sum/description/?envType=study-plan-v2&envId=top-100-liked">39. ç»„åˆæ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;candidates.length;i++)&#123;</span><br><span class="line">            tmp.add(candidates[i]);</span><br><span class="line">            dfs(candidates,target,tmp, candidates[i],i);</span><br><span class="line">            tmp.remove(tmp.size()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target,List&lt;Integer&gt; tmp,<span class="type">int</span> sum,<span class="type">int</span> pos)</span>&#123;   <span class="comment">// è¿™ä¸ªposæ˜¯å»é‡çš„å…³é”®</span></span><br><span class="line">        <span class="keyword">if</span>(sum==target)&#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;target)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=pos;i&lt;candidates.length;i++)&#123;</span><br><span class="line">            tmp.add(candidates[i]);</span><br><span class="line">            dfs(candidates,target,tmp,sum+candidates[i],i);</span><br><span class="line">            tmp.remove(tmp.size()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®å‘Šè¯‰äº†ç»™å‡ºçš„numsæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯ä¸é‡å¤çš„ï¼ˆè€Œä¸”è¿˜æ˜¯æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºçš„ï¼‰</p>
<p>æœªè€ƒè™‘å»é‡ï¼š</p>
<p><a href="/../img/basic_algorithms/1598091943-hZjibJ-file_1598091940241.png" title="1598091943-hZjibJ-file_1598091940241" class="gallery-item" style="box-shadow: none;"> <img src="/../img/basic_algorithms/1598091943-hZjibJ-file_1598091940241.png" alt="1598091943-hZjibJ-file_1598091940241"></a></p>
<p>è€ƒè™‘å»é‡:</p>
<p><a href="/../img/basic_algorithms/1598091943-GPoHAJ-file_1598091940246.png" title="1598091943-GPoHAJ-file_1598091940246" class="gallery-item" style="box-shadow: none;"> <img src="/../img/basic_algorithms/1598091943-GPoHAJ-file_1598091940246.png" alt="1598091943-GPoHAJ-file_1598091940246"></a></p>
<h3 id="22-æ‹¬å·ç”Ÿæˆ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#22-æ‹¬å·ç”Ÿæˆ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="22. æ‹¬å·ç”Ÿæˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/generate-parentheses/description/?envType=study-plan-v2&envId=top-100-liked">22. æ‹¬å·ç”Ÿæˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        dfs(n,n,sb);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> left,<span class="type">int</span> right,StringBuffer sb)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(left==<span class="number">0</span>&amp;&amp;right==<span class="number">0</span>)&#123;</span><br><span class="line">            res.add(sb.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            sb.append(<span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">            dfs(left-<span class="number">1</span>,right,sb);</span><br><span class="line">            sb.deleteCharAt(sb.length()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left&lt;right)&#123;   <span class="comment">// è¿™é‡Œè¦åŠ ä»¥é™åˆ¶ä¸€ä¸‹ï¼ˆæ‹¬å·åˆæ³•ï¼‰</span></span><br><span class="line">            sb.append(<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">            dfs(left,right-<span class="number">1</span>,sb);</span><br><span class="line">            sb.deleteCharAt(sb.length()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æƒ³è±¡æˆäºŒå‰æ ‘ï¼Œ<strong>æ ¹èŠ‚ç‚¹å¾€å·¦æ‹å°±æ˜¯å¢åŠ ä¸€ä¸ªå·¦æ‹¬å·ï¼Œå¾€å³æ‹å¢åŠ ä¸€ä¸ªå³æ‹¬å·</strong>ï¼Œæ‰¾åˆ°æ»¡è¶³åˆæ³•æ‹¬å·çš„è·¯å¾„ã€‚</p>
<p>åœ¨è¿™é‡Œ<code>sb</code>ç›¸å½“äº<strong>æ ˆ</strong>ã€‚</p>
<h3 id="79-å•è¯æœç´¢-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#79-å•è¯æœç´¢-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="79. å•è¯æœç´¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/word-search/?envType=study-plan-v2&envId=top-100-liked">79. å•è¯æœç´¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰</p>
<p>äºŒç»´çš„dfs</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution_exist_redo</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">res</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span>[][] dr = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;  <span class="comment">// ä»£è¡¨å››ä¸ªæ–¹å‘</span></span><br><span class="line">    <span class="type">boolean</span>[][] state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">        state = <span class="keyword">new</span> <span class="title class_">boolean</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">needChar</span> <span class="operator">=</span> word.charAt(idx);  <span class="comment">// å½“å‰éœ€è¦çš„å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == needChar) &#123;</span><br><span class="line">                    state[i][j] = <span class="literal">true</span>;</span><br><span class="line">                    dfs(board, word, idx + <span class="number">1</span>, i, j);  <span class="comment">// ä»¥è¿™ä¸ªä¸ºåŸºå‡†å¾€å››å‘¨dfså¯»æ‰¾</span></span><br><span class="line">                    state[i][j] = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">if</span>(res) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, String word, <span class="type">int</span> idx, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (idx == word.length()) &#123;</span><br><span class="line">            res = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;  <span class="comment">// foréå†å››ä¸ªæ–¹å‘</span></span><br><span class="line">            <span class="comment">// å¦‚æœres=trueï¼Œè¡¨æ˜å·²ç»æ‰¾åˆ°äº†æå‰ç»“æŸdfs</span></span><br><span class="line">            <span class="keyword">if</span> (res) <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">// æ–°ä½ç½®</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">nextX</span> <span class="operator">=</span> x + dr[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">nextY</span> <span class="operator">=</span> y + dr[i][<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// æ–°ä½ç½®æ˜¯å¦è¶Šç•Œï¼Œæ–°ä½ç½®æ˜¯å¦è®¿é—®è¿‡ï¼Œæ–°ä½ç½®çš„å€¼æ˜¯å¦æ˜¯æƒ³è¦çš„</span></span><br><span class="line">            <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= board.length)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (nextY &lt; <span class="number">0</span> || nextY &gt;= board[<span class="number">0</span>].length)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (state[nextX][nextY])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (board[nextX][nextY] != word.charAt(idx))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            state[nextX][nextY] = <span class="literal">true</span>;</span><br><span class="line">            dfs(board, word, idx + <span class="number">1</span>, nextX, nextY);</span><br><span class="line">            state[nextX][nextY] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯dfså›æº¯çš„æ€æƒ³æ˜¯ä¸€æ ·çš„ã€‚</p>
<h3 id="131-åˆ†å‰²å›æ–‡ä¸²-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#131-åˆ†å‰²å›æ–‡ä¸²-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="131. åˆ†å‰²å›æ–‡ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/palindrome-partitioning/description/?envType=study-plan-v2&envId=top-100-liked">131. åˆ†å‰²å›æ–‡ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šä¸­ç­‰ï¼ˆè¾ƒéš¾ï¼‰</p>
<p>è¦å…ˆç†è§£æ€ä¹ˆåˆ¤æ–­å›æ–‡å­—ç¬¦ä¸²ï¼ˆ<strong>åŠ¨æ€è§„åˆ’</strong>ï¼‰ï¼Œç„¶å<strong>å›æº¯</strong>å¯»æ‰¾æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res;</span><br><span class="line">    <span class="type">boolean</span>[][] dp;</span><br><span class="line">    List&lt;String&gt; tmp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">partition</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">        dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[len][len]; <span class="comment">// dp[i][j]è¡¨ç¤ºå­—ç¬¦ä¸²s[i]..s[j]æ˜¯ä¸æ˜¯å›æ–‡å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–dpï¼Œdp[i][j], å½“j&gt;=içš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯dpçš„å·¦ä¸‹è§’éƒ½æ˜¯trueï¼Œè¿™æ ·æ‰ä¸å½±å“åç»­çš„dp</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">            Arrays.fill(dp[i], <span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// åŠ¨æ€è§„åˆ’  è¿™é‡Œä¸€å®šè¦å€’ç€æ¥ï¼Œå› ä¸ºdp[i]è®¡ç®—éœ€è¦dp[i+1]</span></span><br><span class="line">        <span class="comment">// j æ­£ç€æ¥ï¼Œå› ä¸ºdp[i][j]ä¾èµ–ä¸dp[i+1][j-1]ï¼Œj-1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">                dp[i][j] = dp[i + <span class="number">1</span>][j - <span class="number">1</span>] &amp;&amp; (s.charAt(i) == s.charAt(j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(s,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(String s, <span class="type">int</span> cur)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur == s.length()) &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> cur; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[cur][i]) &#123;</span><br><span class="line">                tmp.add(s.substring(cur,i+<span class="number">1</span>));</span><br><span class="line">                dfs(s,i+<span class="number">1</span>);  <span class="comment">// è¿›å…¥ä¸‹ä¸€ä¸ªdfsçš„æ˜¯i+1,ä¸æ˜¯cur</span></span><br><span class="line">                tmp.remove(tmp.size()-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŠ¨æ€è§„åˆ’</strong>  +  <strong>å›æº¯</strong></p>
<p><strong>æ ¸å¿ƒæ€è·¯</strong></p>
<ol>
<li><strong>åŠ¨æ€è§„åˆ’é¢„å¤„ç†</strong>ï¼šé¦–å…ˆä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰æ¥é¢„å¤„ç†å­—ç¬¦ä¸² <code>s</code>ï¼Œç¡®å®šæ¯ä¸ªå­ä¸²æ˜¯å¦ä¸ºå›æ–‡ã€‚è¿™éƒ¨åˆ†é¢„å¤„ç†å°†å¸®åŠ©æˆ‘ä»¬åœ¨å›æº¯æ—¶å¿«é€Ÿåˆ¤æ–­å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„é‡å¤è®¡ç®—ã€‚</li>
<li><strong>å›æº¯ï¼ˆDFSï¼‰</strong>ï¼šç„¶åä½¿ç”¨å›æº¯ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ŒDFSï¼‰æ¥å°è¯•æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹å¼ã€‚æ¯å½“å‘ç°ä¸€ä¸ªåˆæ³•çš„å›æ–‡å­ä¸²æ—¶ï¼Œå°±é€’å½’åœ°ç»§ç»­åˆ†å‰²å‰©ä½™çš„å­—ç¬¦ä¸²ï¼Œç›´åˆ°å¤„ç†å®Œæ•´ä¸ªå­—ç¬¦ä¸²ã€‚</li>
</ol>
<p>ä»¥<code>aabb</code>ä¸ºä¾‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">               &quot;&quot;</span><br><span class="line">             /     \</span><br><span class="line">           &quot;<span class="selector-tag">a</span>&quot;     &quot;aa&quot;</span><br><span class="line">          /   \       \</span><br><span class="line">        &quot;<span class="selector-tag">a</span>&quot;   &quot;ab&quot;    &quot;<span class="selector-tag">b</span>&quot;</span><br><span class="line">        / \      (ä¸åˆæ³•) \</span><br><span class="line">      &quot;<span class="selector-tag">b</span>&quot; &quot;bb&quot;           &quot;<span class="selector-tag">b</span>&quot;</span><br><span class="line">      /     \            (ç©º)</span><br><span class="line">   &quot;<span class="selector-tag">b</span>&quot;     &quot;<span class="selector-tag">b</span>&quot; </span><br><span class="line">   /         (ç©º)</span><br><span class="line">(ç©º)</span><br></pre></td></tr></table></figure>

<h3 id="51-N-çš‡å-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#51-N-çš‡å-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="51. N çš‡å - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/n-queens/description/?envType=study-plan-v2&envId=top-100-liked">51. N çš‡å - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h3><p>éš¾åº¦ï¼šå›°éš¾</p>
<p>æŒæ¡äº†dfsçš„æ ¸å¿ƒä¹‹åè¿™ä¸ªé¢˜å°±å˜å¾—éå¸¸ç®€å•äº†ï¼Œæœ¬é¢˜æœ€å¤æ‚çš„ç‚¹å°±æ˜¯å¦‚ä½•å¯¹è®¿é—®è¿‡çš„ç‚¹åšæ ‡è®°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// ç”¨æ•°ç»„æ¥è®°å½•ä½ç½®</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®°å½•çŠ¶æ€ï¼Œè®°å½•æ¯ä¸€ä¸ªæ ¼å­è¢«å¤šå°‘ä¸ªçš‡åé”å®šäº†</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">solveNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">// 0 è¡¨ç¤ºæ²¡æœ‰è¢«çš‡åé”å®šï¼Œè¡¨æ˜ä¸‹ä¸€ä¸ªçš‡åå¯ä»¥æ”¾ç½®åœ¨è¿™ä¸ªä½ç½®ä¸Š</span></span><br><span class="line">        <span class="comment">// åˆå§‹stateæ•°ç»„å‡ä¸º0</span></span><br><span class="line">        <span class="type">int</span>[][] state = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        dfs(<span class="number">0</span>, state);</span><br><span class="line">        <span class="comment">// ç­”æ¡ˆéƒ½å­˜åœ¨ansæ•°ç»„é‡Œé¢ï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚æˆ‘ä»¬ç»™å‡ºçš„æ˜¯å­—ç¬¦ä¸²...æ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ ä¸Šè¿™ä¸€æ®µ,æ—¨åœ¨å°†æ•°ç»„ç±»å‹çš„ç­”æ¡ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²List</span></span><br><span class="line">        List&lt;List&lt;String&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ans.size(); i++) &#123;</span><br><span class="line">            path = ans.get(i);</span><br><span class="line">            List&lt;String&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">                <span class="type">int</span> <span class="variable">pos</span> <span class="operator">=</span> path.get(j);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (k == pos) &#123;</span><br><span class="line">                        stringBuffer.append(<span class="string">&#x27;Q&#x27;</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        stringBuffer.append(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                tmp.add(stringBuffer.toString());</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(tmp));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœçš‡åæ”¾åœ¨äº†iï¼Œjè¿™ä¸ªä½ç½®ï¼Œé‚£ä¹ˆéœ€è¦åœ¨stateä¸Šåšä¸€äº›æ ‡è®°ï¼Œæ¯”å¦‚è¯´æŸä¸€äº›æ ¼å­ä¼šè¢«æ”»å‡»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mark</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span>[][] state)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> state.length;</span><br><span class="line">        <span class="comment">// æ³¨æ„è¿™æ ·çš„è¯state[i][j]å°±ä¼š+4</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">            <span class="comment">// æ¯ä¸€è¡Œéœ€è¦è¢«æ ‡è®°</span></span><br><span class="line">            state[k][j]++;</span><br><span class="line">            <span class="comment">// æ¯ä¸€åˆ—ä¹Ÿéœ€è¦è¢«æ ‡è®°</span></span><br><span class="line">            state[i][k]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ–œç€çš„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> -n + <span class="number">1</span>; k &lt; n; k++) &#123;</span><br><span class="line">            <span class="comment">// iï¼ŒjåŒ+kï¼Œä¸º \</span></span><br><span class="line">            <span class="keyword">if</span> ((<span class="number">0</span> &lt;= i + k) &amp;&amp; (<span class="number">0</span> &lt;= j + k) &amp;&amp; (i + k &lt; n) &amp;&amp; (j + k &lt; n)) &#123;</span><br><span class="line">                state[i + k][j + k]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// i,j å¼‚å· k,ä¸º/</span></span><br><span class="line">            <span class="keyword">if</span> ((<span class="number">0</span> &lt;= i - k) &amp;&amp; (<span class="number">0</span> &lt;= j + k) &amp;&amp; (i - k &lt; n) &amp;&amp; (j + k &lt; n)) &#123;</span><br><span class="line">                state[i - k][j + k]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹åº”åç›¸å‡å°±å¯ä»¥äº†</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">unMark</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span>[][] state)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> state.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">            state[k][j]--;</span><br><span class="line">            state[i][k]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> -n + <span class="number">1</span>; k &lt; n; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="number">0</span> &lt;= i + k) &amp;&amp; (<span class="number">0</span> &lt;= j + k) &amp;&amp; (i + k &lt; n) &amp;&amp; (j + k &lt; n)) &#123;</span><br><span class="line">                state[i + k][j + k]--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="number">0</span> &lt;= i - k) &amp;&amp; (<span class="number">0</span> &lt;= j + k) &amp;&amp; (i - k &lt; n) &amp;&amp; (j + k &lt; n)) &#123;</span><br><span class="line">                state[i - k][j + k]--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> cur, <span class="type">int</span>[][] state)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> state.length;</span><br><span class="line">        <span class="comment">// curä»£è¡¨è¿™ä¸€æ¬¡çš„dfsæ˜¯å¯»æ‰¾ç¬¬curä¸ªçš‡åçš„ä½ç½®çš„</span></span><br><span class="line">        <span class="comment">// å¦‚æœcurç­‰äºnï¼Œä»£è¡¨æ‰€æœ‰çš„çš‡åéƒ½æ‰¾åˆ°äº†å¯¹åº”çš„ä½ç½®äº†ï¼Œé‚£ä¹ˆå¯ä»¥è¿”å›äº†</span></span><br><span class="line">        <span class="keyword">if</span> (cur == n) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éå†æ¯ä¸€ä¸ªä½ç½®ï¼Œå°è¯•æ¯ä¸€ä¸ªä½ç½®</span></span><br><span class="line">        <span class="comment">// ç»è¿‡æ€è€ƒï¼Œå…¶å®ä¸å¿…è¦éå†æ¯ä¸€ä¸ªä½ç½®ï¼Œå› ä¸ºNçš‡åçš„ç¬¬ä¸€ä¸ªè‚¯å®šæ˜¯åœ¨ç¬¬ä¸€è¡Œçš„ï¼Œç¬¬äºŒä¸ªè‚¯å®šæ˜¯åœ¨ç¬¬äºŒè¡Œçš„....</span></span><br><span class="line">        <span class="comment">// æ‰€ä»¥æˆ‘ä»¬å°±æ ¹æ®curçš„å€¼ï¼Œç¡®å®šåœ¨å“ªä¸€è¡Œè¿›è¡Œéå†å°±å¯ä»¥äº†(curå¯ä»¥ä½œä¸ºè¡Œçš„ç´¢å¼•)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæœ‰ä½ç½®çš„è¯ï¼Œå°±æœç´¢ä¸‹ä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">if</span> (state[cur][i] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// å…ˆæ ‡è®°</span></span><br><span class="line">                mark(cur, i, state);</span><br><span class="line">                <span class="comment">// tmpä¸­æœ€å¤šæœ‰n-1ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä»£è¡¨æ¯ä¸€è¡Œçš„çš‡åå¯¹åº”çš„ä½ç½®</span></span><br><span class="line">                path.add(i);</span><br><span class="line">                dfs(cur + <span class="number">1</span>, state);</span><br><span class="line">                <span class="comment">// å¼¹å‡º</span></span><br><span class="line">                path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// æ¸…æ¥šæ ‡è®°</span></span><br><span class="line">                unMark(cur, i, state);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å’Œå‰é¢çš„å›æº¯é¢˜æ²¡ä»€ä¹ˆä¸åŒï¼Œå°±æ˜¯æ ‡è®°å…ƒç´ çš„æ–¹å¼æ”¹å˜äº†ã€‚<code>Mark()</code>ä¸<code>UnMark()</code></p>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-06-10</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« jay1an</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/'>
                            åŸºç¡€ç®—æ³•
                        </a>
                    
                        <a href='/tags/%E5%9B%9E%E6%BA%AF/'>
                            å›æº¯
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/'>
                            åŸºç¡€ç®—æ³•
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2024/06/11/algorithms-stack/'>æ ˆ - Stack</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2024/06/08/algorithms-sliding-window/">æ»‘åŠ¨çª—å£ - Sliding Window</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 Jay1an 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ä»å¤´åŠªåŠ›ä¹Ÿåå·</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>