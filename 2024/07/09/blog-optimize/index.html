<!DOCTYPE html>
<html lang="en">
    
    <style>
        body
        {
            font-family: "Times New Roman", Helvetica, Tahoma, Arial,   LXGW WenKai   "notoserifsc-medium", "Microsoft YaHei", "Hiragino Sans GB", "WenQuanYi Micro Hei", sans-serif !important;

        }
    </style>

    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ä¼˜åŒ–åšå®¢ç½‘ç«™" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Jay1anğŸˆ</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Jay1anğŸˆ</a> 
            <span class="description">I am who I am.</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">â›©ï¸é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">ğŸ—’ï¸æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">ğŸ·ï¸åˆ†ç±»</a></li>
            
        
            
                <li><a href="/about/">ğŸ¨å…³äº</a></li>
            
        
            
                <li><a href="/now/">ğŸ¡Now</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ä¼˜åŒ–åšå®¢ç½‘ç«™
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2024-07-27</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š2.7k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š10åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99"><span class="post-toc-text">ä¼˜åŒ–åšå®¢ç½‘ç«™</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8D%9A%E5%AE%A2%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96"><span class="post-toc-text">åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ–</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CDN-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%97%AE%E9%A2%98"><span class="post-toc-text">CDN æœåŠ¡å™¨é—®é¢˜</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E9%97%AE%E9%A2%98%E5%8F%91%E7%8E%B0"><span class="post-toc-text">é—®é¢˜å‘ç°</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95-%E6%9B%B4%E6%94%B9Hexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E6%BA%90%E7%A0%81"><span class="post-toc-text">è§£å†³åŠæ³• - æ›´æ”¹Hexoåšå®¢ä¸»é¢˜æºç </span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%87%86%E5%A4%87"><span class="post-toc-text">å·¥ä½œå‡†å¤‡</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%8E%BB%E6%8E%89%E4%BE%9D%E8%B5%96-CDN-%E7%9A%84%E8%B5%84%E6%BA%90"><span class="post-toc-text">å»æ‰ä¾èµ– CDN çš„èµ„æº</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%95%88%E6%9E%9C"><span class="post-toc-text">æ•ˆæœ</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%87%8D%E5%A4%8D%E8%AF%B7%E6%B1%82%E9%97%AE%E9%A2%98"><span class="post-toc-text">é™æ€èµ„æºé‡å¤è¯·æ±‚é—®é¢˜</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E9%97%AE%E9%A2%98%E5%8F%91%E7%8E%B0-1"><span class="post-toc-text">é—®é¢˜å‘ç°</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95-%E5%BC%80%E5%90%AF%E7%BC%93%E5%AD%98"><span class="post-toc-text">è§£å†³åŠæ³• - å¼€å¯ç¼“å­˜</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%95%88%E6%9E%9C-1"><span class="post-toc-text">æ•ˆæœ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%B7%E6%96%B0"><span class="post-toc-text">åˆ·æ–°</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%87%E6%8D%A2%E9%A1%B5%E9%9D%A2"><span class="post-toc-text">åˆ‡æ¢é¡µé¢</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA"><span class="post-toc-text">åšå®¢å®‰å…¨åŠ å›º</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%9A%90%E8%97%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BF%A1%E6%81%AF"><span class="post-toc-text">éšè—æœåŠ¡å™¨ä¿¡æ¯</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E6%84%9F%E4%BC%98%E5%8C%96"><span class="post-toc-text">åšå®¢ä½¿ç”¨æ„Ÿä¼˜åŒ–</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91404%E9%A1%B5%E9%9D%A2"><span class="post-toc-text">é‡å®šå‘404é¡µé¢</span></a></li></ol></li></ol></li></ol>
            
        
        <div class=".article-gallery"><h1 id="ä¼˜åŒ–åšå®¢ç½‘ç«™"><a href="#ä¼˜åŒ–åšå®¢ç½‘ç«™" class="headerlink" title="ä¼˜åŒ–åšå®¢ç½‘ç«™"></a>ä¼˜åŒ–åšå®¢ç½‘ç«™</h1><p>æ˜¨å¤©æˆ‘æŠŠåšå®¢ä»GitHub Pagesä¸Šè½¬ç§»åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šï¼Œç„¶åç”±äºç½‘ç«™å¤‡æ¡ˆçš„é—®é¢˜åˆè½¬ç§»åˆ°äº†Azureçš„éŸ©å›½æœåŠ¡å™¨ä¸Šã€‚è™½ç„¶è®¿é—®é€Ÿåº¦æ¯”ä»¥å‰å¿«äº†ä¸å°‘ï¼Œä½†æ˜¯è®¿é—®é€Ÿåº¦è¿˜æ˜¯ç•¥æ…¢ï¼Œæœ‰æ—¶å€™åˆä¼šå¿«ä¸€ç‚¹ï¼Œä¸ç¨³å®šã€‚ç„¶åæˆ‘åˆåšäº†ä¸€äº›å®‰å…¨æ€§çš„åŠ å›ºï¼Œæ¯”å¦‚è¯´åœ¨è¿”å›çš„æ•°æ®åŒ…ä¸­éšè—æœåŠ¡å™¨ä¿¡æ¯ã€‚</p>
<p>æ‰€ä»¥è¿™ç¯‡åšå®¢è®°å½•æˆ‘æ˜¯å¦‚ä½•ä¼˜åŒ–åšå®¢è®¿é—®é€Ÿåº¦ã€å¦‚ä½•è¿›è¡Œå®‰å…¨åŠ å›ºï¼Œä»¥åŠåç»­å¯èƒ½ä¼šæ›´æ–°çš„ä¼˜åŒ–åšå®¢ä½¿ç”¨ä½“éªŒçš„æ“ä½œã€‚</p>
<h2 id="åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ–"><a href="#åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ–" class="headerlink" title="åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ–"></a>åšå®¢è®¿é—®é€Ÿåº¦ä¼˜åŒ–</h2><h3 id="CDN-æœåŠ¡å™¨é—®é¢˜"><a href="#CDN-æœåŠ¡å™¨é—®é¢˜" class="headerlink" title="CDN æœåŠ¡å™¨é—®é¢˜"></a>CDN æœåŠ¡å™¨é—®é¢˜</h3><h4 id="é—®é¢˜å‘ç°"><a href="#é—®é¢˜å‘ç°" class="headerlink" title="é—®é¢˜å‘ç°"></a>é—®é¢˜å‘ç°</h4><p>æ‰“å¼€æµè§ˆå™¨å¼€å‘å·¥å…·ï¼Œåˆ‡æ¢åˆ°ç½‘ç»œå·¥å…·ï¼ŒæŸ¥çœ‹æœ¬æœºå¯¹ç½‘ç«™èµ„æºçš„è¯·æ±‚æƒ…å†µã€‚</p>
<p>æˆ‘å‘ç°æˆ‘çš„åšå®¢å†…å®¹ä¸­çš„å›¾ç‰‡çš„è¯·æ±‚é€Ÿåº¦è¿˜æŒºå¿«ï¼Œä½†æ˜¯æˆ‘çš„åšå®¢å†…å®¹å´è¦åœ¨å›¾ç‰‡åŠ è½½å®Œæˆä¹‹åä¸€æ®µæ—¶é—´æ‰èƒ½è¢«æµè§ˆå™¨æ¸²æŸ“å‡ºæ¥ã€‚</p>
<p>åœ¨æˆ‘ä½¿ç”¨çš„è¿™ä¸ªhexoåšå®¢ä¸»é¢˜<code>A4</code>è®¾ç½®ä¸­ï¼Œæœ‰ä¸€äº›é™æ€çš„èµ„æº<code>css</code>ã€<code>js</code>å’Œå­—ä½“æ˜¯ä»cdnä¸Šè¯·æ±‚ä¸‹æ¥çš„ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711184912146.png" title="image-20240711184912146" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711184912146.png" alt="image-20240711184912146"></a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">jay1an@Azure-jay1an:~$ curl ipinfo.io/104.21.82.50</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;ip&quot;</span>: <span class="string">&quot;104.21.82.50&quot;</span>,</span><br><span class="line">  <span class="string">&quot;anycast&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;city&quot;</span>: <span class="string">&quot;San Francisco&quot;</span>,</span><br><span class="line">  <span class="string">&quot;region&quot;</span>: <span class="string">&quot;California&quot;</span>,</span><br><span class="line">  <span class="string">&quot;country&quot;</span>: <span class="string">&quot;US&quot;</span>,</span><br><span class="line">  <span class="string">&quot;loc&quot;</span>: <span class="string">&quot;37.7621,-122.3971&quot;</span>,</span><br><span class="line">  <span class="string">&quot;org&quot;</span>: <span class="string">&quot;AS13335 Cloudflare, Inc.&quot;</span>,</span><br><span class="line">  <span class="string">&quot;postal&quot;</span>: <span class="string">&quot;94107&quot;</span>,</span><br><span class="line">  <span class="string">&quot;timezone&quot;</span>: <span class="string">&quot;America/Los_Angeles&quot;</span>,</span><br><span class="line">  <span class="string">&quot;readme&quot;</span>: <span class="string">&quot;https://ipinfo.io/missingauth&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾ï¼Œè¿™ä¸ªcssæ–‡ä»¶å°±æ˜¯ä»cdnä¸Šè¯·æ±‚ä¸‹æ¥çš„ï¼Œè€Œè¿™ä¸ªcdnæœåŠ¡å™¨åœ¨ç¾å›½åŠ å·ï¼Œä»¥å›½å†…çš„ç½‘ç»œè®¿é—®è¯¥åœ°å€éœ€è¦èŠ±è´¹çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå¹¶ä¸”åœ¨ç½‘ç»œç¯å¢ƒä¸å¤ªå¥½çš„æ—¶å€™ç”šè‡³æ— æ³•è®¿é—®ï¼Œè¿™å°±ä¼šå¯¼è‡´åšå®¢çš„è®¿é—®é€Ÿåº¦å˜æ…¢ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711185713514.png" title="image-20240711185713514" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711185713514.png" alt="image-20240711185713514"></a></p>
<p>åœ¨è¿™é‡Œå¯ä»¥æ¸…æ™°çœ‹è§ï¼Œæˆ‘ä»¬ä¸»æœºè®¿é—®åšå®¢é¡µé¢çš„æ—¶å€™é™¤äº†è¦å‘åšå®¢æ‰€åœ¨çš„æœåŠ¡å™¨è¯·æ±‚åšå®¢å†…å®¹çš„èµ„æºä»¥åŠä¸€äº›å¿…è¦çš„csså’Œjsæ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜ä¼šå‘ä¸¤ä¸ªä½äºç¾å›½åŠ å·çš„cdnæœåŠ¡å™¨è¯·æ±‚ä¸€äº›é™æ€èµ„æºã€‚</p>
<p>ç”±äºå›½å†…ç½‘ç»œè®¿é—®ç¾å›½åŠ å·cdnæœåŠ¡å™¨é€ æˆå¾ˆå¤§çš„å»¶æ—¶ç”šè‡³æœ‰æ—¶è¯·æ±‚å¤±è´¥ï¼Œè¿™ä½¿å¾—åšå®¢å†…å®¹æ•´ä½“è®¿é—®é€Ÿåº¦å˜æ…¢ï¼Œæ‰€ä»¥æˆ‘æƒ³å…ˆå°†ä½äºcdnä¸Šçš„èµ„æºä¸‹è½½åˆ°æœåŠ¡å™¨ä¸Šï¼Œä»¥åè®¿é—®åšå®¢é¡µé¢æ—¶ï¼Œä¸»æœºåªéœ€è¦å‘åšå®¢æ‰€åœ¨æœåŠ¡å™¨è¯·æ±‚èµ„æºå³å¯ã€‚</p>
<h4 id="è§£å†³åŠæ³•-æ›´æ”¹Hexoåšå®¢ä¸»é¢˜æºç "><a href="#è§£å†³åŠæ³•-æ›´æ”¹Hexoåšå®¢ä¸»é¢˜æºç " class="headerlink" title="è§£å†³åŠæ³• - æ›´æ”¹Hexoåšå®¢ä¸»é¢˜æºç "></a>è§£å†³åŠæ³• - æ›´æ”¹Hexoåšå®¢ä¸»é¢˜æºç </h4><h5 id="å·¥ä½œå‡†å¤‡"><a href="#å·¥ä½œå‡†å¤‡" class="headerlink" title="å·¥ä½œå‡†å¤‡"></a>å·¥ä½œå‡†å¤‡</h5><p>åœ¨åˆ†æå®Œé—®é¢˜ä¹‹åï¼Œç¡®å®šéœ€è¦æŸ¥çœ‹Hexo <code>A4</code>ä¸»é¢˜çš„æºç æ–‡ä»¶ï¼Œæ‰¾åˆ°è°ƒç”¨cdnçš„ä½ç½®ï¼Œå°†å…¶æ›¿æ¢ä¸ºä»æœ¬åœ°çš„èµ„æºä¸­è·å–ã€‚</p>
<p>å…ˆæ¥åˆ°hexo <code>A4</code>ä¸»é¢˜çš„ç›®å½•ä¸‹ <code>themes\A4</code></p>
<p>ç„¶ååœ¨cmdçª—å£ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œæœç´¢å†…å®¹ä¸­å¸¦æœ‰<code>&quot;str&quot;</code>çš„æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">findstr /S /I /M <span class="string">&quot;str&quot;</span> *</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤çš„å„ä¸ªéƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>findstr</strong>: å‘½ä»¤çš„åç§°ï¼Œç”¨äºæœç´¢æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²ã€‚</li>
<li><strong>&#x2F;S</strong>: é€’å½’æœç´¢å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</li>
<li><strong>&#x2F;I</strong>: å¿½ç•¥å¤§å°å†™ï¼ˆå³æœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚</li>
<li><strong>&#x2F;M</strong>: åªæ˜¾ç¤ºåŒ…å«åŒ¹é…å­—ç¬¦ä¸²çš„æ–‡ä»¶åï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºåŒ¹é…çš„å…·ä½“è¡Œã€‚</li>
<li><strong>â€œstrâ€</strong>: è¦æœç´¢çš„å­—ç¬¦ä¸²ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œâ€strâ€ æ˜¯è¦æœç´¢çš„å­—ç¬¦ä¸²ã€‚</li>
<li>*****: æ–‡ä»¶é€šé…ç¬¦ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚</li>
</ul>
<h5 id="å»æ‰ä¾èµ–-CDN-çš„èµ„æº"><a href="#å»æ‰ä¾èµ–-CDN-çš„èµ„æº" class="headerlink" title="å»æ‰ä¾èµ– CDN çš„èµ„æº"></a>å»æ‰ä¾èµ– CDN çš„èµ„æº</h5><p>ç›®å‰æˆ‘æƒ³æ‰¾åˆ°å¯¹è¿™ä¸ªèµ„æºçš„è¯·æ±‚ä»£ç ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css</span><br></pre></td></tr></table></figure>

<p>äºæ˜¯ä½¿ç”¨<code>findstr</code>å‘½ä»¤åœ¨hexo <code>A4</code>ä¸»é¢˜ç›®å½•ä¸‹æœç´¢ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">themes\A4&gt;findstr /S /I /M <span class="string">&quot;css/lightgallery&quot;</span> *</span><br><span class="line">layout\_partial\head.ejs</span><br><span class="line">scripts\events\gallery\gallery.js</span><br></pre></td></tr></table></figure>

<p>ç»“æœè¡¨æ˜<code>head.ejs</code>å’Œ<code>gallery.js</code>ä¸­åŒ…å«å­—ç¬¦ä¸²<code>&quot;css/lightgallery&quot;</code>ï¼Œæ‰€ä»¥è¯·æ±‚cdnçš„é€»è¾‘åº”è¯¥å°±åœ¨è¿™é‡Œã€‚</p>
<p>æœç„¶åœ¨<code>gallery.js</code>ä¸­å‘ç°äº†ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> renderer = <span class="built_in">require</span>(<span class="string">&#x27;./renderer&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">config</span>.<span class="property">lightgallery</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;</span><br><span class="line">    <span class="attr">js</span>: <span class="string">&#x27;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js&#x27;</span>,</span><br><span class="line">    <span class="attr">css</span>: <span class="string">&#x27;https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: &#123;&#125;,</span><br><span class="line">&#125;, hexo.<span class="property">config</span>.<span class="property">lightgallery</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_post_render&#x27;</span>,renderer.<span class="property">render</span>,<span class="number">9</span>);</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>renderer.js</code>åˆæœ‰å¦‚ä¸‹ä»£ç æ®µï¼Œåˆ©ç”¨äº†å®šä¹‰åœ¨<code>gallery.js</code>ä¸­çš„<code>hexo.config.lightgallery</code>ï¼Œè¿™é‡Œæ˜¯è¯·æ±‚cdnçš„ä¸€å¤„é€»è¾‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addTag</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> config = <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">lightgallery</span>;</span><br><span class="line">    <span class="keyword">if</span>(!config)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add js</span></span><br><span class="line">    data.<span class="property">content</span> = <span class="string">&#x27;&lt;div class=&quot;.article-gallery&quot;&gt;&#x27;</span>+data.<span class="property">content</span>+<span class="string">&#x27;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">    data.<span class="property">content</span>+=<span class="string">&#x27;&lt;script src=&quot;&#x27;</span>+config.<span class="property">js</span>+<span class="string">&#x27;&quot;&gt;&lt;/script&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add css</span></span><br><span class="line">    <span class="keyword">var</span> css = <span class="string">&#x27;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;&#x27;</span>+config.<span class="property">css</span>+<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">    data.<span class="property">content</span> = css + data.<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add plugins</span></span><br><span class="line">    <span class="keyword">var</span> plugins = <span class="title class_">Object</span>.<span class="title function_">keys</span>(config.<span class="property">plugins</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> plugin <span class="keyword">of</span> plugins)&#123;</span><br><span class="line">        <span class="keyword">var</span> jsTag = <span class="string">&#x27;&lt;script src=&quot;&#x27;</span>+config.<span class="property">plugins</span>[plugin]+<span class="string">&#x27;&quot;&gt;&lt;/script&gt;&#x27;</span>;</span><br><span class="line">        data.<span class="property">content</span> += jsTag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äºæ˜¯æˆ‘å°†ä¸Šè¿°ä¸¤ä¸ªæ–‡ä»¶ä¸‹è½½ä¸‹æ¥ï¼Œåˆ†åˆ«å­˜æ”¾åœ¨ <code>A4/source/css</code> å’Œ <code>A4/source/js</code> ç›®å½•ä¸‹ï¼Œå¹¶ä¸”ä¿®æ”¹äº†ä»£ç é…ç½®ï¼Œä½¿å…¶ä»æœ¬åœ°æ–‡ä»¶ä¸­è¯»å–è€Œä¸æ˜¯ä» CDN æœåŠ¡å™¨è·å–èµ„æºã€‚</p>
<blockquote>
<p>ç„¶è€Œï¼Œæˆ‘å‘ç° <code>A4/source/css</code> å’Œ <code>A4/source/js</code> ç›®å½•ä¸­åŸæœ¬å°±æœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚ç»è¿‡è¿›ä¸€æ­¥è°ƒæŸ¥ï¼Œæˆ‘è®¤ä¸ºè¿™å¯èƒ½æ˜¯ <code>A4</code> ä¸»é¢˜è®¾è®¡ä¸Šçš„ä¸€ä¸ªä¸è¶³ä¹‹å¤„ã€‚å…·ä½“æ¥è¯´ï¼Œéƒ¨åˆ†ä»£ç æ˜¯ä»æœ¬åœ°æ–‡ä»¶ä¸­è¯»å– CSS å’Œ JS èµ„æºï¼Œè€Œå…¶ä»–éƒ¨åˆ†åˆ™ä¾èµ–äº CDN è·å–èµ„æºã€‚è¿™ç§ä¸ä¸€è‡´æ€§å¯èƒ½æ˜¯ä¸»é¢˜ä½œè€…åœ¨å¼€å‘è¿‡ç¨‹ä¸­é—ç•™ä¸‹æ¥çš„ä¸€ä¸ª BUGã€‚</p>
</blockquote>
<p>ä¿®æ”¹éƒ¨åˆ†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> renderer = <span class="built_in">require</span>(<span class="string">&#x27;./renderer&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">config</span>.<span class="property">lightgallery</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;</span><br><span class="line">    <span class="attr">js</span>: <span class="string">&#x27;js/lightgallery.min.js&#x27;</span>,</span><br><span class="line">    <span class="attr">css</span>: <span class="string">&#x27;css/lightgallery.min.css&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: &#123;&#125;,</span><br><span class="line">&#125;, hexo.<span class="property">config</span>.<span class="property">lightgallery</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_post_render&#x27;</span>,renderer.<span class="property">render</span>,<span class="number">9</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addTag</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> config = <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">lightgallery</span>;</span><br><span class="line">    <span class="keyword">if</span>(!config)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æ ¹è·¯å¾„ â­â­â­</span></span><br><span class="line">    <span class="keyword">var</span> root = <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">root</span> || <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add js</span></span><br><span class="line">    data.<span class="property">content</span> = <span class="string">&#x27;&lt;div class=&quot;article-gallery&quot;&gt;&#x27;</span>+data.<span class="property">content</span>+<span class="string">&#x27;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">    data.<span class="property">content</span> += <span class="string">`&lt;script src=&quot;<span class="subst">$&#123;root&#125;</span><span class="subst">$&#123;config.js&#125;</span>&quot;&gt;&lt;/script&gt;`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add css</span></span><br><span class="line">    <span class="keyword">var</span> css = <span class="string">`&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;<span class="subst">$&#123;root&#125;</span><span class="subst">$&#123;config.css&#125;</span>&quot; /&gt;`</span>;</span><br><span class="line">    data.<span class="property">content</span> = css + data.<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add plugins</span></span><br><span class="line">    <span class="keyword">var</span> plugins = <span class="title class_">Object</span>.<span class="title function_">keys</span>(config.<span class="property">plugins</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> plugin <span class="keyword">of</span> plugins)&#123;</span><br><span class="line">        <span class="keyword">var</span> jsTag = <span class="string">`&lt;script src=&quot;<span class="subst">$&#123;root&#125;</span><span class="subst">$&#123;config.plugins[plugin]&#125;</span>&quot;&gt;&lt;/script&gt;`</span>;</span><br><span class="line">        data.<span class="property">content</span> += jsTag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><p>æˆ‘æŒ‰ç…§ç›¸åŒçš„æ–¹æ³•ï¼Œå°†æ‰€æœ‰ä¾èµ–äº CDN æœåŠ¡å™¨çš„èµ„æºå…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶ä¿®æ”¹ç›¸åº”çš„ä»£ç é…ç½®ï¼Œä½¿å…¶å…¨éƒ¨ä»æœ¬åœ°è¯»å–èµ„æºã€‚</p>
<blockquote>
<p>ä¸‹è½½åæˆ‘å‘ç°ï¼Œè¿™äº›èµ„æºä¸­çš„å¤§å¤šæ•°å®é™…ä¸Šä¹Ÿå·²ç»å­˜åœ¨äºæœ¬åœ°æ–‡ä»¶å¤¹ä¸­â€¦â€¦.è¿™ç§ä¸ä¸€è‡´æ€§å¤§æ¦‚ç‡å°±æ˜¯ä½œè€…çš„ç–å¿½å§ã€‚</p>
</blockquote>
<p>è¿™æ ·ï¼Œå†æ¬¡è®¿é—®æˆ‘çš„åšå®¢æ—¶ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°ä¸å†ä¾èµ–äº CDN æœåŠ¡å™¨çš„æ•ˆæœï¼Œæ‰€æœ‰èµ„æºå…¨éƒ¨ä»åšå®¢æ‰€åœ¨æœåŠ¡å™¨è¯·æ±‚ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711200536316.png" title="image-20240711200536316" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711200536316.png" alt="image-20240711200536316"></a></p>
<h3 id="é™æ€èµ„æºé‡å¤è¯·æ±‚é—®é¢˜"><a href="#é™æ€èµ„æºé‡å¤è¯·æ±‚é—®é¢˜" class="headerlink" title="é™æ€èµ„æºé‡å¤è¯·æ±‚é—®é¢˜"></a>é™æ€èµ„æºé‡å¤è¯·æ±‚é—®é¢˜</h3><h4 id="é—®é¢˜å‘ç°-1"><a href="#é—®é¢˜å‘ç°-1" class="headerlink" title="é—®é¢˜å‘ç°"></a>é—®é¢˜å‘ç°</h4><p>å¼€å¯æµè§ˆå™¨å¼€å‘è€…å·¥å…·åï¼Œæˆ‘æ³¨æ„åˆ°åœ¨åšå®¢ä¸­åˆ‡æ¢é¡µé¢æ—¶ï¼Œä¸€äº›å¸¸ç”¨çš„èµ„æºå’Œå­—ä½“åœ¨ä¸åŒé¡µé¢é—´æ˜¯å…±äº«çš„ã€‚ç„¶è€Œï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢æˆ–åˆ‡æ¢é¡µé¢æ—¶ï¼Œè¿™äº›èµ„æºéƒ½ä¼šé‡æ–°å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚è¿™ä¸ä»…é€ æˆäº†ç½‘ç»œèµ„æºçš„æµªè´¹ï¼Œè¿˜å½±å“äº†é¡µé¢çš„åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p>ä¸ºäº†è¿›ä¸€æ­¥æå‡åšå®¢çš„è®¿é—®é€Ÿåº¦ï¼Œæˆ‘å†³å®šåœ¨æœåŠ¡å™¨ä¸Šå¼€å¯ç¼“å­˜åŠŸèƒ½ã€‚é€šè¿‡ç¼“å­˜ï¼Œå¯ä»¥å‡å°‘é‡å¤è¯·æ±‚çš„æ¬¡æ•°ï¼Œå‡å°‘æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶åŠ å¿«ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦ã€‚</p>
<h4 id="è§£å†³åŠæ³•-å¼€å¯ç¼“å­˜"><a href="#è§£å†³åŠæ³•-å¼€å¯ç¼“å­˜" class="headerlink" title="è§£å†³åŠæ³• - å¼€å¯ç¼“å­˜"></a>è§£å†³åŠæ³• - å¼€å¯ç¼“å­˜</h4><p>åœ¨æœåŠ¡å™¨ä¸Šä¿®æ”¹<code>Apache</code>é…ç½®ï¼Œæˆ‘çš„ç½‘ç«™å¯¹åº”çš„confæ–‡ä»¶è·¯å¾„ä¸ºï¼š<code>/etc/apache2/sites-available/jay1an.conf</code></p>
<p>éœ€è¦åœ¨é‡Œé¢åŠ å…¥è¿™æ ·ä¸€æ®µå†…å®¹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">IfModule</span> <span class="attr">mod_headers.c</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FilesMatch</span> &quot;\<span class="attr">.</span>(<span class="attr">html</span>|<span class="attr">css</span>|<span class="attr">js</span>|<span class="attr">png</span>|<span class="attr">jpg</span>|<span class="attr">jpeg</span>|<span class="attr">gif</span>|<span class="attr">ico</span>|<span class="attr">svg</span>|<span class="attr">woff2</span>|<span class="attr">woff</span>|<span class="attr">ttf</span>)$&quot;&gt;</span></span><br><span class="line">        Header set Cache-Control &quot;max-age=86400, public&quot;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">FilesMatch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">IfModule</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a href="/../img/blog-optimize/image-20240711201740542.png" title="image-20240711201740542" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711201740542.png" alt="image-20240711201740542"></a></p>
<p>ç„¶åè¿˜éœ€ç¡®ä¿<code>Apache</code>å·²ç»å¯ç”¨äº†<code>mod_headers</code>å’Œ<code>mod_expires</code>æ¨¡å—ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo a2enmod headers</span><br><span class="line">sudo a2enmod expires</span><br><span class="line">sudo systemctl restart apache2</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šè¿°é…ç½®ï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”å¤´ä¸­æ·»åŠ <code>Cache-Control</code>æŒ‡ä»¤ï¼Œå‘ŠçŸ¥æµè§ˆå™¨ç¼“å­˜æŒ‡å®šæ—¶é—´å†…çš„èµ„æºã€‚å½“ç”¨æˆ·å†æ¬¡è®¿é—®è¿™äº›èµ„æºæ—¶ï¼Œæµè§ˆå™¨ä¼šç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½ï¼Œè€Œä¸æ˜¯é‡æ–°å‘æœåŠ¡å™¨è¯·æ±‚ï¼Œä»è€Œæé«˜è®¿é—®é€Ÿåº¦ã€‚</p>
<h4 id="æ•ˆæœ-1"><a href="#æ•ˆæœ-1" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><p>åœ¨å¼€å¯ç¼“å­˜åŠŸèƒ½åï¼Œé‡æ–°è®¿é—®åšå®¢ï¼Œå¯ä»¥æ˜æ˜¾æ„Ÿè§‰åˆ°é¡µé¢åŠ è½½é€Ÿåº¦çš„æå‡ã€‚æµè§ˆå™¨ä¼šç¼“å­˜å¸¸ç”¨çš„èµ„æºå’Œå­—ä½“ï¼Œå½“åˆ‡æ¢é¡µé¢æ—¶ï¼Œè¿™äº›èµ„æºæ— éœ€å†æ¬¡ä»æœåŠ¡å™¨è·å–ï¼Œå¤§å¤§å‡å°‘äº†ç½‘ç»œèµ„æºçš„æµªè´¹ï¼Œå¹¶æå‡äº†è®¿é—®é€Ÿåº¦ã€‚</p>
<h5 id="åˆ·æ–°"><a href="#åˆ·æ–°" class="headerlink" title="åˆ·æ–°"></a>åˆ·æ–°</h5><p>ç¬¬ä¸€æ¬¡è®¿é—®ï¼š</p>
<p><a href="/../img/blog-optimize/image-20240711202208803.png" title="image-20240711202208803" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711202208803.png" alt="image-20240711202208803"></a></p>
<p>åˆ·æ–°ï¼š</p>
<p><a href="/../img/blog-optimize/image-20240711202247939.png" title="image-20240711202247939" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711202247939.png" alt="image-20240711202247939"></a></p>
<p>å¹¶ä¸”ä»ä¸Šå›¾ä¸­çš„<code>Size</code>æ ä¸­å¯ä»¥çœ‹åˆ°è¿™äº›é™æ€èµ„æºéƒ½æ˜¯ä»ç¼“å­˜ä¸­è·å–çš„ï¼Œè€Œä¸æ˜¯ä»æœåŠ¡å™¨ä¸Šè¯·æ±‚çš„ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711202351309.png" title="image-20240711202351309" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711202351309.png" alt="image-20240711202351309"></a></p>
<h5 id="åˆ‡æ¢é¡µé¢"><a href="#åˆ‡æ¢é¡µé¢" class="headerlink" title="åˆ‡æ¢é¡µé¢"></a>åˆ‡æ¢é¡µé¢</h5><p>ç°åœ¨åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªé¡µé¢ï¼Œå‘ç°å…±ç”¨çš„é™æ€èµ„æºéƒ½ä»ç¼“å­˜ä¸­è·å–äº†ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711202601998.png" title="image-20240711202601998" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711202601998.png" alt="image-20240711202601998"></a></p>
<h2 id="åšå®¢å®‰å…¨åŠ å›º"><a href="#åšå®¢å®‰å…¨åŠ å›º" class="headerlink" title="åšå®¢å®‰å…¨åŠ å›º"></a>åšå®¢å®‰å…¨åŠ å›º</h2><h3 id="éšè—æœåŠ¡å™¨ä¿¡æ¯"><a href="#éšè—æœåŠ¡å™¨ä¿¡æ¯" class="headerlink" title="éšè—æœåŠ¡å™¨ä¿¡æ¯"></a>éšè—æœåŠ¡å™¨ä¿¡æ¯</h3><p>æœåŠ¡å™¨åœ¨è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®åŒ…çš„åŒ…å¤´ä¸­è®¾ç½®äº†<code>Server</code>å­—æ®µ</p>
<p><a href="/../img/blog-optimize/image-20240711203630336.png" title="image-20240711203630336" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711203630336.png" alt="image-20240711203630336"></a></p>
<p>è¿™æš´éœ²äº†æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿå’Œ<code>Apache</code>çš„ç‰ˆæœ¬ï¼Œè¿™å­˜åœ¨ä¸€å®šçš„å®‰å…¨éšæ‚£ã€‚</p>
<p>å¯ä»¥é€šè¿‡è®¾ç½®ä¿®æ”¹<code>Apache</code>çš„é…ç½®éšè—è¿™ä¸€æ¶ˆæ¯ã€‚</p>
<p>ä¸‹é¢æ˜¯åœ¨æˆ‘çš„æœåŠ¡å™¨(Ubuntu)ä¸Šå…·ä½“çš„æ­¥éª¤ï¼š</p>
<ol>
<li><p><strong>ç¼–è¾‘Apacheé…ç½®æ–‡ä»¶</strong>ï¼š æ‰“å¼€Apacheçš„ä¸»é…ç½®æ–‡ä»¶ï¼Œ<code>/etc/apache2/conf-enabled/security.conf</code>ã€‚</p>
</li>
<li><p><strong>æ‰¾åˆ°å¹¶ä¿®æ”¹ServerTokensæŒ‡ä»¤</strong>ï¼š ServerTokensæŒ‡ä»¤å†³å®šäº†åœ¨æœåŠ¡å™¨å“åº”å¤´ä¸­æ˜¾ç¤ºçš„Apacheç‰ˆæœ¬ä¿¡æ¯ã€‚å¯ä»¥å°†å…¶è®¾ç½®ä¸º<code>Prod</code>æˆ–è€…<code>ProductOnly</code>ï¼Œè¿™æ ·åªä¼šæ˜¾ç¤ºâ€œApacheâ€è€Œä¸æ˜¾ç¤ºå…·ä½“çš„ç‰ˆæœ¬å·ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerTokens Prod</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰¾åˆ°å¹¶ä¿®æ”¹ServerSignatureæŒ‡ä»¤</strong>ï¼š ServerSignatureæŒ‡ä»¤å†³å®šäº†åœ¨æœåŠ¡å™¨é”™è¯¯é¡µé¢ä¸­æ˜¾ç¤ºçš„Apacheç‰ˆæœ¬ä¿¡æ¯ã€‚å¯ä»¥å°†å…¶è®¾ç½®ä¸º<code>Off</code>ï¼Œä»¥ç¦æ­¢æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerSignature Off</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>é‡å¯ApacheæœåŠ¡</strong>ï¼š ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œé‡æ–°å¯åŠ¨ApacheæœåŠ¡ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart apache2</span><br></pre></td></tr></table></figure></li>
</ol>
<p>æœ€ç»ˆæ•ˆæœ</p>
<p><a href="/../img/blog-optimize/image-20240711204324834.png" title="image-20240711204324834" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711204324834.png" alt="image-20240711204324834"></a></p>
<h2 id="åšå®¢ä½¿ç”¨æ„Ÿä¼˜åŒ–"><a href="#åšå®¢ä½¿ç”¨æ„Ÿä¼˜åŒ–" class="headerlink" title="åšå®¢ä½¿ç”¨æ„Ÿä¼˜åŒ–"></a>åšå®¢ä½¿ç”¨æ„Ÿä¼˜åŒ–</h2><h3 id="é‡å®šå‘404é¡µé¢"><a href="#é‡å®šå‘404é¡µé¢" class="headerlink" title="é‡å®šå‘404é¡µé¢"></a>é‡å®šå‘404é¡µé¢</h3><p>æœªé‡å®šå‘å‰ï¼Œå¦‚æœè¯·æ±‚åˆ°æœåŠ¡æœŸä¸Šä¸å­˜åœ¨çš„èµ„æºï¼Œåˆ™ä¼šæç¤º404ï¼Œå¹¶ä¸”è¿”å›é»˜è®¤çš„é¡µé¢ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711205458020.png" title="image-20240711205458020" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711205458020.png" alt="image-20240711205458020"></a></p>
<p>ä¸ºäº†åœ¨è¿™ç§æƒ…å†µä¸‹æä¾›ä¸€ä¸ªå‹å¥½çš„æç¤ºé¡µé¢ï¼Œä»è€Œæå‡ä½¿ç”¨ä½“éªŒï¼Œéœ€è¦é…ç½®ä¸€ä¸‹é‡å®šå‘404ã€‚</p>
<p>é¦–å…ˆéœ€è¦å‡†å¤‡ä¸€ä¸ª<code>404.html</code>æ–‡ä»¶</p>
<p>ç„¶ååœ¨ç½‘ç«™ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>.htaccess</code>æ–‡ä»¶ï¼Œåœ¨<code>.htaccess</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹å³å¯ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ErrorDocument 404 /404.html</span><br></pre></td></tr></table></figure>

<p><a href="/../img/blog-optimize/image-20240711205723584.png" title="image-20240711205723584" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711205723584.png" alt="image-20240711205723584"></a></p>
<p>è¿™æ ·ï¼Œå½“ç”¨æˆ·è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é¡µé¢æ—¶ï¼Œä¼šè‡ªåŠ¨é‡å®šå‘åˆ°<code>404.html</code>é¡µé¢ã€‚</p>
<p><a href="/../img/blog-optimize/image-20240711210003956.png" title="image-20240711210003956" class="gallery-item" style="box-shadow: none;"> <img src="/../img/blog-optimize/image-20240711210003956.png" alt="image-20240711210003956"></a></p>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-07-09</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« jay1an</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/'>
                            åšå®¢æ­å»º
                        </a>
                    
                        <a href='/tags/CDN/'>
                            CDN
                        </a>
                    
                        <a href='/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/'>
                            äº‘æœåŠ¡å™¨
                        </a>
                    
                        <a href='/tags/%E5%AE%89%E5%85%A8/'>
                            å®‰å…¨
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/'>
                            åšå®¢æ­å»º
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2024/07/26/coding-practice-1/'>åˆ·é¢˜æ—¥è®° - 1</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2024/07/08/blog-server-migration/">åšå®¢è¿ç§»è®°</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 Jay1an 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ä»å¤´åŠªåŠ›ä¹Ÿåå·</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>